<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/main.css">
    <title>Document</title>
</head>
<body>

    <div class="container">
        <button>
            <span class="label">Confirm</span>
            <span class="icon">
                <svg 
                     width="44.419" 
                     height="36.507" 
                     viewBox="0 0 44.419 36.507"><defs>
                        <style>
                             .a{fill:none;stroke:#fff;stroke-width:2px;}
                        </style></defs>
                        <path class="a" d="M130.682,218.058l14.586,17.462,28.295-34.305" transform="translate(-129.915 -200.579)"/>
                </svg>
            </span>
        </button>
        <p>Next</p>
    </div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/gsap.min.js" integrity="sha512-cdV6j5t5o24hkSciVrb8Ki6FveC2SgwGfLE31+ZQRHAeSRxYhAQskLkq3dLm8ZcWe1N3vBOEYmmbhzf7NTtFFQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/CSSRulePlugin.min.js" integrity="sha512-0bzaetZStCnsUgbCtGVxftzF/L32PNOnrMlYLXwBOKl8cUjTSSDfJVyyJsNwGoI0iE0WUqni2eEfO35kJjFj5g==" crossorigin="anonymous"></script>
<script>
    gsap.registerPlugin(CSSRulePlugin);

    const tl = gsap.timeline({defaults: { ease: Power2.easeOut}});
    let btn = document.querySelector('button');
    let rule = CSSRulePlugin.getRule('button::before');

    tl.to('.label', {opacity: 0, height: 0, position: 'absolute', duartion: '.1s'})
      .to('button', {borderRadius: '50%', width: '2.5em', height: '2.5em', ease: Elastic.easeOut.config(.7, 0.3), duration: '1.2'}, '-=.5s')
      .to(rule, {borderRadius: '50%'}, '-=1s')
      .to('svg', {strokeDasharray: '90 103'}, '-=1')
      .to('path', {attr: {d: 'M144.531,235.3l16.159-17.754-16.159-17.693'} }, "+=1")
      .to('p', {clipPath: 'circle(100% at 50% 50%)', duration: 1.2});

    tl.pause();

    btn.addEventListener('click', () => {
        tl.play();
        btn.setAttribute('name', 'test');
    });

</script>
</body>
</html>